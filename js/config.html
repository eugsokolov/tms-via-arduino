<html>
<head>
<h3> TMS configuration input </h3>
</head>
<body>
 <form method="post" action="/">
  <div id="numUsers">
  Number of users? <input type="text" name="users"> <br>
  </div>
  <div id="userNames">
  </div>
  Iterations per user? <input type="text" name="iterations"> <br>
  Event type?
  <input type="radio" name="type" value="picture" checked> Picture     
  <input type="radio" name="type" value="word"> Word   
  <input type="radio" name="type" value="mouse"> Mouse<br>
  Directory for event input? <input type="text" name="directory"> <br>

  Port TMS is on? <input type="text" name="TMSport"> <br>
  Fire TMS before or after event?
  <input type="radio" name="when" value="before" checked> Before  
  <input type="radio" name="when" value="after"> After<br>
  Iteration to fire? 
  <input type="radio" name="fireIteration" value="random" checked> Random  
  <input type="radio" name="fireIteration" value="array"> Array<br>
  Fire iteration array? <input type="text" name="fireArray" style="display:none;"> <br>
  Time to fire TMS? <input type="text" name="timeToFire"> <br>

  How to end the event?
  <input type="radio" name="eventEnd" value="keypress" checked> Keypress  
  <input type="radio" name="eventEnd" value="time"> Time<br>
  Time to end event? <input type="text" name="eventEndTime" style="display:none;"> <br>

  Refresh the event?
  <input type="radio" name="refresh" value="yes" checked> Yes  
  <input type="radio" name="refresh" value="no"> No<br>
  ISI image: <input type="text" name="ISIimage"> <br>
  ISI duration: <input type="text" name="ISIduration"> <br>

<input type="submit" value="Submit">

</form>
<script>
function drawPrompts(count) {
    var box = document.getElementById('userNames');
    box.innerHTML = ''; // Clear box
    console.log( box )
    for( var i = 0; i < count; i++ )
        box.innerHTML += '<div class="user" id="user-' + i + '">Subject '+(i+1)+' : <input class="name"></div>';
}

document.getElementById('numUsers').onkeyup = function(e) {
   var count = parseInt(e.target.value);
   if( !isNaN(count) && count >= 0 )
       drawPrompts(count);
}

function yesnoCheck() {
    if (document.getElementById('yesCheck').checked) {
        document.getElementById('ifYes').style.display = 'block';
    }
    else document.getElementById('ifYes').style.display = 'none';
}
</script>
</body> 
</html>
